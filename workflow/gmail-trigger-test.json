{
  "version": "1.0",
  "name": "Gmail Trigger Test",
  "description": "Test Gmail email trigger - marks new unread emails as read",
  "trigger": {
    "type": "gmail",
    "config": {
      "filters": {
        "label": "inbox",
        "isUnread": true
      },
      "pollInterval": 60
    }
  },
  "config": {
    "steps": [
      {
        "id": "markRead",
        "module": "communication.gmail.markAsRead",
        "inputs": {
          "params": {
            "userId": "{{trigger.userId}}",
            "emailId": "{{trigger.email.id}}"
          }
        },
        "outputAs": "result"
      }
    ]
  },
  "metadata": {
    "requiresCredentials": [
      "google"
    ]
  }
}
